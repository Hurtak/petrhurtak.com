(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[291],{3894:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/docker",function(){return t(8055)}])},6482:function(n,e,t){"use strict";t.d(e,{Br:function(){return a.Br},EK:function(){return a.EK},Ee:function(){return a.Ee},H1:function(){return a.H1},H2:function(){return a.H2},HO:function(){return a.HO},Li:function(){return a.Li},P:function(){return a.P},S0:function(){return a.S0},Tc:function(){return a.Tc},Tr:function(){return a.Tr},Tx:function(){return a.Tx},_P:function(){return a._P},aV:function(){return a.aV},cK:function(){return a.cK},iA:function(){return a.iA},nk:function(){return a.nk},pu:function(){return a.pu},rU:function(){return a.rU},z1:function(){return a.z1}});var a=t(9465)},7776:function(n,e,t){"use strict";t.d(e,{x:function(){return g}});var a=t(5893),i=t(645),c=t.n(i),r=t(9008),o=t.n(r),s=t(8422),d=t(7001),l=t(191),u=t(4047);let m=()=>(0,a.jsx)(a.Fragment,{children:"\xb7"});var f=t(9829);let h=n=>n.format("YYYY-MMM-DD"),p=n=>{let{articleBlog:e,articleComponent:t}=n,i=d.h.utc(e.datePublication),r=e.dateLastUpdate?d.h.utc(e.dateLastUpdate):void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.$,{title:e.title}),(0,a.jsx)(o(),{children:(0,a.jsx)("meta",{name:"description",content:e.description,className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]])})}),(0,a.jsxs)("article",{className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]]),children:[(0,a.jsx)("h1",{className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]]),children:e.title}),(0,a.jsx)("p",{className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]])+" time-wrapper",children:r?(0,a.jsxs)(a.Fragment,{children:["Published"," ",(0,a.jsx)("time",{title:"Publication date",dateTime:i.toISOString(),className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]]),children:h(i)}),(0,a.jsx)("br",{className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]])}),"Updated:"," ",(0,a.jsx)("time",{title:"Last update date",dateTime:r.toISOString(),className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]]),children:h(r)})]}):(0,a.jsx)("time",{title:"Publication date",dateTime:i.toISOString(),className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]]),children:h(i)})}),(0,a.jsx)("div",{className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]])+" article-content",children:(0,a.jsx)(t,{className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]])})})]}),(0,a.jsxs)("p",{className:c().dynamic([["9afce2f4c51a17ad",[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)]]])+" links",children:[(0,a.jsx)(f.r,{href:s._j.articleGitHubLink(e.articleDirectory),children:"Edit on GitHub"})," ",(0,a.jsx)(m,{})," ",(0,a.jsx)(f.r,{href:s._j.articleXSearch(e.slug),children:"Discuss on X"})," "]}),(0,a.jsx)(c(),{id:"9afce2f4c51a17ad",dynamic:[(0,l.LH)(.5),(0,l.LH)(5),(0,l.LH)(2),(0,l.LH)(3)],children:"h1.__jsx-style-dynamic-selector{margin:0}.time-wrapper.__jsx-style-dynamic-selector{margin:0}time.__jsx-style-dynamic-selector{display:inline-block;padding-top:".concat((0,l.LH)(.5),"}.article-content.__jsx-style-dynamic-selector{padding-top:").concat((0,l.LH)(5),"}.article-content.__jsx-style-dynamic-selector>*{margin:").concat((0,l.LH)(2)," 0}.article-content.__jsx-style-dynamic-selector>*:first-child{margin-top:0}.article-content.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0}.links.__jsx-style-dynamic-selector{margin:0;margin-top:").concat((0,l.LH)(3),"}")})]})},g=n=>e=>{let{articleBlog:t}=e;return(0,a.jsx)(p,{articleBlog:t,articleComponent:n})}},8055:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return r},default:function(){return o}});var a=t(5893),i=t(6482),c=t(7776),r=!0,o=(0,c.x)(()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.P,{children:"This article assumes basic Docker knowledge and is more of a shortlist of useful commands rather than beginners introduction."}),(0,a.jsx)(i.H1,{children:"Dockerfile"}),(0,a.jsxs)(i.P,{children:["First, you will need a ",(0,a.jsx)(i.EK,{children:"Dockerfile"})," file in your repository. Here is how simple one might look like."]}),(0,a.jsx)(i.EK,{language:"docker",children:'\n      # Base image\n      FROM node:12\n\n      # Working directory inside of the container\n      WORKDIR /app/\n\n      # Copy stuff inside of the container. The left path is the host OS, the\n      # right path is inside of the container relative to the WORKDIR.\n      COPY ./package.json .\n      COPY ./index.js .\n\n      # Run scripts or install dependencies\n      RUN npm install\n\n      # Set environment variables\n      ENV NODE_ENV production\n\n      # What command/binary to run when the image is started\n      ENTRYPOINT ["node"]\n      # What default arguments to supply to given ENTRYPOINT\n      CMD ["index.js"]\n    '}),(0,a.jsx)(i.H1,{children:"Create commands"}),(0,a.jsx)(i.EK,{language:"bash",children:"\n      # Build image\n      #   -f/--file  Path to Dockerfile, default is 'CWD/Dockerfile'\n      #   -t/--tag   Name and optionally a tag in the 'name:tag' format\n      docker build .\n\n      # List images\n      docker image ls\n\n      # Run container\n      #   -d/--detach   Run container in background and print container ID\n      #   -p/--publish  Connect container port to host OS port, eg: '-p 8000:8000'\n      docker run <IMAGE ID>\n\n      # List running containers\n      #   -a/--all  Show all containers, default shows just running\n      docker ps\n\n      # Run a command in a running container\n      #   -i, --interactive  Keep STDIN open even if not attached\n      #   -t, --tty          Allocate a pseudo-TTY\n      docker exec -it <CONTAINER ID> /bin/sh\n   "}),(0,a.jsx)(i.H1,{children:"Cleanup commands"}),(0,a.jsx)(i.EK,{language:"bash",children:"\n      # List containers\n      #   --all  Shows also stopped ones\n      docker ps --all\n\n      # Stop the running container\n      docker container stop <CONTAINER ID>\n\n      # Remove container\n      #   --force  Remove running containers\n      docker container rm <CONTAINER ID>\n\n      # List images\n      docker image ls\n\n      # Remove images\n      docker image rm <IMAGE ID>\n   "}),(0,a.jsx)(i.H1,{children:"Example workflow"}),(0,a.jsx)(i.EK,{language:"bash",children:'\n      # Take Dockerfile and build an image\n      $ docker build .\n      Sending build context to Docker daemon  2.008MB\n      ...\n      Successfully built ea5c328aef35\n\n      # List images\n      $ docker image ls\n      REPOSITORY          TAG                 IMAGE ID            CREATED              SIZE\n      <none>              <none>              ea5c328aef35        About a minute ago   919MB\n\n      # Run the container\n      $ docker run ea5c328aef35\n      Example app listening at http://localhost:8000\n\n      # List running containers\n      $ docker ps\n      CONTAINER ID        IMAGE               COMMAND             CREATED              STATUS              PORTS               NAMES\n      08d6c527fe82        ea5c328aef35        "node index.js"     About a minute ago   Up About a minute                       mystifying_hellman\n\n      # Connect to running container and execute command inside of it.\n      # Command we execute is \'/bin/bash\', so we\n      # can use bash to explore container contents.\n      $ docker exec -it 08d6c527fe82 /bin/bash\n      root@08d6c527fe82:/app# ls\n      index.js  node_modules  packag\n      root@08d6c527fe82:/app# exit\n\n      # Stop and remove the running container\n      $ docker ps\n      CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n      08d6c527fe82        ea5c328aef35        "node index.js"     3 seconds ago       Up 3 seconds                            festive_lehmann\n\n      $ docker container stop 08d6c527fe82\n      08d6c527fe82\n      $ docker container rm 08d6c527fe82\n      08d6c527fe82\n\n      $ docker ps\n      CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n      # Remove the image\n      $ docker image ls\n      REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n      <none>              <none>              ea5c328aef35        48 minutes ago      919MB\n\n      $ docker image rm ea5c328aef35\n      Deleted: sha256:ea5c328aef35edf1a19e10fa5d7a62f11d9e61f76db01d86c7c94da5f7432185\n      ...\n    '})]}))}},function(n){n.O(0,[163,733,888,774,179],function(){return n(n.s=3894)}),_N_E=n.O()}]);