(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[127],{4067:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/iife",function(){return t(2649)}])},6482:function(n,e,t){"use strict";t.d(e,{Br:function(){return i.Br},EK:function(){return i.EK},Ee:function(){return i.Ee},H1:function(){return i.H1},H2:function(){return i.H2},HO:function(){return i.HO},Li:function(){return i.Li},P:function(){return i.P},S0:function(){return i.S0},Tc:function(){return i.Tc},Tr:function(){return i.Tr},Tx:function(){return i.Tx},_P:function(){return i._P},aV:function(){return i.aV},cK:function(){return i.cK},iA:function(){return i.iA},nk:function(){return i.nk},pu:function(){return i.pu},rU:function(){return i.rU},z1:function(){return i.z1}});var i=t(9465)},7776:function(n,e,t){"use strict";t.d(e,{x:function(){return g}});var i=t(5893),a=t(645),r=t.n(a),o=t(9008),c=t.n(o),s=t(8422),l=t(7001),d=t(191),u=t(4047);let h=()=>(0,i.jsx)(i.Fragment,{children:"\xb7"});var f=t(9829);let m=n=>n.format("YYYY-MMM-DD"),p=n=>{let{articleBlog:e,articleComponent:t}=n,a=l.h.utc(e.datePublication),o=e.dateLastUpdate?l.h.utc(e.dateLastUpdate):void 0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.$,{title:e.title}),(0,i.jsx)(c(),{children:(0,i.jsx)("meta",{name:"description",content:e.description,className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]])})}),(0,i.jsxs)("article",{className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]]),children:[(0,i.jsx)("h1",{className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]]),children:e.title}),(0,i.jsx)("p",{className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]])+" time-wrapper",children:o?(0,i.jsxs)(i.Fragment,{children:["Published"," ",(0,i.jsx)("time",{title:"Publication date",dateTime:a.toISOString(),className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]]),children:m(a)}),(0,i.jsx)("br",{className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]])}),"Updated:"," ",(0,i.jsx)("time",{title:"Last update date",dateTime:o.toISOString(),className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]]),children:m(o)})]}):(0,i.jsx)("time",{title:"Publication date",dateTime:a.toISOString(),className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]]),children:m(a)})}),(0,i.jsx)("div",{className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]])+" article-content",children:(0,i.jsx)(t,{className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]])})})]}),(0,i.jsxs)("p",{className:r().dynamic([["9afce2f4c51a17ad",[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)]]])+" links",children:[(0,i.jsx)(f.r,{href:s._j.articleGitHubLink(e.articleDirectory),children:"Edit on GitHub"})," ",(0,i.jsx)(h,{})," ",(0,i.jsx)(f.r,{href:s._j.articleXSearch(e.slug),children:"Discuss on X"})," "]}),(0,i.jsx)(r(),{id:"9afce2f4c51a17ad",dynamic:[(0,d.LH)(.5),(0,d.LH)(5),(0,d.LH)(2),(0,d.LH)(3)],children:"h1.__jsx-style-dynamic-selector{margin:0}.time-wrapper.__jsx-style-dynamic-selector{margin:0}time.__jsx-style-dynamic-selector{display:inline-block;padding-top:".concat((0,d.LH)(.5),"}.article-content.__jsx-style-dynamic-selector{padding-top:").concat((0,d.LH)(5),"}.article-content.__jsx-style-dynamic-selector>*{margin:").concat((0,d.LH)(2)," 0}.article-content.__jsx-style-dynamic-selector>*:first-child{margin-top:0}.article-content.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0}.links.__jsx-style-dynamic-selector{margin:0;margin-top:").concat((0,d.LH)(3),"}")})]})},g=n=>e=>{let{articleBlog:t}=e;return(0,i.jsx)(p,{articleBlog:t,articleComponent:n})}},2649:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return o},default:function(){return c}});var i=t(5893),a=t(6482),r=t(7776),o=!0,c=(0,r.x)(()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.P,{children:[(0,i.jsx)(a.EK,{children:"IIFE"})," is an abbreviation for ",(0,i.jsx)(a.EK,{children:"immediately-invoked function expression"}),". What that means is that we define a new function and execute it immediately."]}),(0,i.jsx)(a.EK,{language:"js",children:"\n      console.log(1);\n\n      // IIFE with arrow function\n      (() => {\n        console.log(2);\n      })();\n\n      // IIFE with anonymous function\n      (function () {\n        console.log(3);\n      })();\n\n      // Regular function call equivalent\n      function foo () {\n        console.log(4);\n      }\n      foo();\n\n      console.log(5);\n\n      // logs: 1 2 3 4 5\n    "}),(0,i.jsx)(a.H1,{children:"Where IIFE can be useful"}),(0,i.jsx)(a.H2,{children:"Not leaking variables into the global scope"}),(0,i.jsx)(a.P,{children:"In the browser environment (if you are not using module system), it is a good practice to wrap your code inside IIFE to make sure:"}),(0,i.jsxs)(a.aV,{children:[(0,i.jsx)(a.Li,{children:"You are not leaking any global variables/functions into global scope."}),(0,i.jsx)(a.Li,{children:"Your variables cannot be overwritten by any other scripts that also might be accessing global scope."}),(0,i.jsx)(a.Li,{children:"You do not accidentally overwrite global variables of other scripts by using the same name."})]}),(0,i.jsx)(a.EK,{language:"js",children:"\n      <!DOCTYPE html>\n      <html>\n        <head><!-- code --></head>\n        <body>\n          <!-- code -->\n          <script>\n            (() => {\n              const config = { foo: 'bar' };\n              // \"config\" is not leaked to the window object\n              AnalyticsScript.init(config);\n            })()\n          </script>\n        </body>\n      </html>\n    "}),(0,i.jsx)(a.H2,{children:"Variable assignment with its own scope"}),(0,i.jsx)(a.EK,{language:"js",children:"\n      // IIFE\n      const res = (() => {\n        const foo = 1;\n        const bar = 2;\n        return foo + bar;\n      })();\n\n      // Vs regular approach\n      const foo = 1;\n      const bar = 2;\n      const res = foo + bar;\n    "}),(0,i.jsx)(a.P,{children:"This approach might lead to better code structure where it is clearer what parts of the code are only sub computations and what are the results of these computations."}),(0,i.jsxs)(a.P,{children:["It is more common to see this in functional languages where keywords like ",(0,i.jsx)(a.EK,{children:"let"})," are available."]}),(0,i.jsx)(a.EK,{language:"elm",children:"\n      res =\n        let\n          foo = 1\n          bar = 2\n        in\n          foo + bar\n    "}),(0,i.jsxs)(a.P,{children:["At the moment there is a stage 1 ",(0,i.jsx)(a.EK,{children:"do"})," keyword"," ",(0,i.jsx)(a.rU,{href:"https://github.com/tc39/proposal-do-expressions",children:"proposal"})," for JavaScript that introduces such functionality."]}),(0,i.jsx)(a.EK,{language:"js",children:"\n      const res = do {\n        const foo = 1;\n        const bar = 2;\n        foo + bar; // implicit return\n      }\n    "}),(0,i.jsx)(a.H2,{children:"React"}),(0,i.jsxs)(a.P,{children:["In React ",(0,i.jsx)(a.EK,{children:"if"})," statements inside templates are usually done either with ternary operators, which might get hairy when there is some nesting."]}),(0,i.jsx)(a.EK,{language:"jsx",children:"\n      <section>\n        {condition ? <p>true</p> : <p>false</p>}\n      </section>\n    "}),(0,i.jsx)(a.P,{children:"IIFE might be used to create blocks with regular code flow."}),(0,i.jsx)(a.EK,{language:"jsx",children:"\n      <section>\n        {(() => {\n          if (a) {\n            if (b) {\n              return <p>a and b</p>;\n            } else {\n              return <p>a and not b</p>;\n            }\n          } else {\n            return <p>not a</p>;\n          }\n        })()}\n      </section>\n    "}),(0,i.jsx)(a.P,{children:"Also might be useful when we want to do some computations right in the templates."}),(0,i.jsx)(a.EK,{language:"jsx",children:"\n      <section>\n        {(() => {\n          const foo = 1;\n          const bar = 2;\n          const res = foo + bar;\n\n          return <p>{res}</p>;\n        })()}\n      </section>\n    "}),(0,i.jsx)(a.H2,{children:"Module pattern"}),(0,i.jsx)(a.P,{children:"Module pattern was once popular before the module system was introduced into the language."}),(0,i.jsx)(a.P,{children:"This pattern provides:"}),(0,i.jsxs)(a.aV,{children:[(0,i.jsx)(a.Li,{children:"Encapsulation."}),(0,i.jsx)(a.Li,{children:"Private variables/functions/methods."})]}),(0,i.jsx)(a.EK,{language:"js",children:"\n      const Counter = (() => {\n        // private variables/functions\n        let state = 0;\n\n        function privateMethod () {\n          // ...\n        }\n\n        // exported public functions\n        return {\n          init: (initialState) => {\n            state = initialState;\n          },\n          increment: () => {\n            privateMethod();\n            state += 1;\n          },\n          getCount: () => state\n        };\n      })()\n\n      Counter.init(1);\n      Counter.increment();\n      Counter.getCount(); // 2\n    "}),(0,i.jsx)(a.P,{children:"Class like interface can also be done with the module pattern. It is not recommended for objects that are created often because new functions are created for each instance, instead of having one method on the prototype chain that is reused by each instance, this will also lead to bigger memory requirements compared to classes."}),(0,i.jsx)(a.EK,{language:"js",children:"\n      const Counter = initialState => {\n        // private variables/functions\n        let state = initialState;\n\n        function privateMethod () {\n          // ...\n        }\n\n        // exported public functions\n        return {\n          increment: () => {\n            privateMethod();\n            state += 1;\n          },\n          getCount: () => state\n        };\n      }\n\n      const counterA = Counter(1);\n      const counterB = Counter(2);\n      counterA.increment();\n      counterB.increment();\n      counterA.getCount(); // 2\n      counterB.getCount(); // 3\n    "}),(0,i.jsx)(a.H1,{children:"Downsides"}),(0,i.jsxs)(a.aV,{children:[(0,i.jsx)(a.Li,{children:"They are not commonly used pattern, so they might be confusing."}),(0,i.jsx)(a.Li,{children:"They might not promote best practices, for example they might lead you to write more inlined code, while refactoring into some nice testable function might be better option."}),(0,i.jsx)(a.Li,{children:"They are not best from performance point of view, you are creating function that is technically not needed most of the time, and then you are executing it immediately."})]})]}))}},function(n){n.O(0,[163,733,888,774,179],function(){return n(n.s=4067)}),_N_E=n.O()}]);