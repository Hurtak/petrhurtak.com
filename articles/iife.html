<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="icon" type="image/svg" href="/favicon.svg" class="jsx-1788f26f963801ea"/><link rel="alternate" type="application/rss+xml" title="RSS feed for petrhurtak.com" href="/rss/feed.xml" class="jsx-1788f26f963801ea"/><link rel="alternate" type="application/atom+xml" title="Atom feed for petrhurtak.com" href="/rss/atom.xml" class="jsx-1788f26f963801ea"/><link rel="alternate" type="application/feed+json" title="JSON Feed for petrhurtak.com" href="/rss/feed.json" class="jsx-1788f26f963801ea"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" class="jsx-1788f26f963801ea"/><title>IIFE – petrhurtak.com</title><meta name="description" content="What is immediately-invoked function expression and where they might be useful." class="jsx-3660295720"/><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/e344c169fdbe9c5f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e344c169fdbe9c5f.css" data-n-g=""/><link rel="preload" href="/_next/static/css/f2fec8308b1481ee.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f2fec8308b1481ee.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-6e375934f7db9407.js" defer=""></script><script src="/_next/static/chunks/pages/_app-73a777ca58ee6ff1.js" defer=""></script><script src="/_next/static/chunks/163-292c136d2e80f39f.js" defer=""></script><script src="/_next/static/chunks/733-8b179d7687f3748f.js" defer=""></script><script src="/_next/static/chunks/pages/articles/iife-e6deb156d6e8360f.js" defer=""></script><script src="/_next/static/OV2WtO7UMex4fkF0pVbp5/_buildManifest.js" defer=""></script><script src="/_next/static/OV2WtO7UMex4fkF0pVbp5/_ssgManifest.js" defer=""></script><style id="__jsx-1788f26f963801ea">body{margin:0}</style><style id="__jsx-3388121443">a.link{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;color:blue;text-decoration-thickness:0.5px;text-underline-offset:1px}a.link:visited{color:purple}</style><style id="__jsx-2798449809">.refractor{background:#f3f3f3!important;border:1px solid #dadada;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.code-inline.jsx-2798449809{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:auto}.code-inline.jsx-2798449809 .refractor{padding:1px!important;font-size:14px!important}.code-block.jsx-2798449809 .refractor{padding:8px!important;font-size:12px!important}.no-highlight.jsx-2798449809 .token{color:black!important;background:none!important}</style><style id="__jsx-3660295720">h1.jsx-3660295720{margin:0}.time-wrapper.jsx-3660295720{margin:0}time.jsx-3660295720{display:inline-block;padding-top:4px}.article-content.jsx-3660295720{padding-top:40px}.article-content.jsx-3660295720>*{margin:16px 0}.article-content.jsx-3660295720>*:first-child{margin-top:0}.article-content.jsx-3660295720>*:last-child{margin-bottom:0}.links.jsx-3660295720{margin:0;margin-top:24px}</style><style id="__jsx-835579187">body{overflow-y:scroll}.layout.jsx-835579187{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:grid;grid-template-areas:"header""main""footer";grid-template-rows:auto 1fr auto;grid-template-columns:1fr;min-width:400px;max-width:600px;min-height:100vh;margin:0 auto;padding:24px 16px}header.jsx-835579187{grid-area:header;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;padding-bottom:24px}main.jsx-835579187{grid-area:main;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-x:auto}footer.jsx-835579187{grid-area:footer;padding-top:16px;text-align:center}</style></head><body><div id="__next"><div class="jsx-835579187 layout"><header class="jsx-835579187"><a class="link" href="/"><img width="20" height="20" src="/_next/static/media/logo.0f65ee71.svg" alt="petrhurtak.com site logo" class="jsx-835579187"/></a><a class="link" href="/">petrhurtak.com</a></header><main class="jsx-835579187"><article class="jsx-3660295720"><h1 class="jsx-3660295720">IIFE</h1><p class="jsx-3660295720 time-wrapper">Published<!-- --> <time title="Publication date" dateTime="2017-07-20T00:00:00.000Z" class="jsx-3660295720">2017-Jul-20</time><br class="jsx-3660295720"/>Updated:<!-- --> <time title="Last update date" dateTime="2022-10-23T00:00:00.000Z" class="jsx-3660295720">2022-Oct-23</time></p><div class="jsx-3660295720 article-content"><p><span class="jsx-2798449809 code-inline no-highlight"><code class="refractor" style="display:inline">IIFE</code></span> is an abbreviation for <span class="jsx-2798449809 code-inline no-highlight"><code class="refractor" style="display:inline">immediately-invoked <span class="token keyword">function</span> expression</code></span>. What that means is that we define a new function and execute it immediately.</p><div class="jsx-2798449809 code-block"><pre class="refractor language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// IIFE with arrow function</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// IIFE with anonymous function</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Regular function call equivalent</span>
<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// logs: 1 2 3 4 5</span></code></pre></div><h2>Where IIFE can be useful</h2><h3>Not leaking variables into the global scope</h3><p>In the browser environment (if you are not using module system), it is a good practice to wrap your code inside IIFE to make sure:</p><ul><li>You are not leaking any global variables/functions into global scope.</li><li>Your variables cannot be overwritten by any other scripts that also might be accessing global scope.</li><li>You do not accidentally overwrite global variables of other scripts by using the same name.</li></ul><div class="jsx-2798449809 code-block"><pre class="refractor language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> code <span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> code <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
      <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#x27;bar&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// &quot;config&quot; is not leaked to the window object</span>
        AnalyticsScript<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span></code></pre></div><h3>Variable assignment with its own scope</h3><div class="jsx-2798449809 code-block"><pre class="refractor language-js"><code class="language-js"><span class="token comment">// IIFE</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> foo <span class="token operator">+</span> bar<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Vs regular approach</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> foo <span class="token operator">+</span> bar<span class="token punctuation">;</span></code></pre></div><p>This approach might lead to better code structure where it is clearer what parts of the code are only sub computations and what are the results of these computations.</p><p>It is more common to see this in functional languages where keywords like <span class="jsx-2798449809 code-inline no-highlight"><code class="refractor" style="display:inline"><span class="token builtin class-name">let</span></code></span> are available.</p><div class="jsx-2798449809 code-block"><pre class="refractor language-elm"><code class="language-elm"><span class="token hvariable">res</span> <span class="token operator">=</span>
  <span class="token keyword">let</span>
    <span class="token hvariable">foo</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token hvariable">bar</span> <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token keyword">in</span>
    <span class="token hvariable">foo</span> <span class="token operator">+</span> <span class="token hvariable">bar</span></code></pre></div><p>At the moment there is a stage 1 <span class="jsx-2798449809 code-inline no-highlight"><code class="refractor" style="display:inline"><span class="token keyword">do</span></code></span> keyword<!-- --> <a class="link" rel="noopener noreferrer" target="_blank" href="https://github.com/tc39/proposal-do-expressions">proposal</a> for JavaScript that introduces such functionality.</p><div class="jsx-2798449809 code-block"><pre class="refractor language-js"><code class="language-js"><span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">do</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  foo <span class="token operator">+</span> bar<span class="token punctuation">;</span> <span class="token comment">// implicit return</span>
<span class="token punctuation">}</span></code></pre></div><h3>React</h3><p>In React <span class="jsx-2798449809 code-inline no-highlight"><code class="refractor" style="display:inline"><span class="token keyword">if</span></code></span> statements inside templates are usually done either with ternary operators, which might get hairy when there is some nesting.</p><div class="jsx-2798449809 code-block"><pre class="refractor language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>condition <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">true</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">false</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>IIFE might be used to create blocks with regular code flow.</p><div class="jsx-2798449809 code-block"><pre class="refractor language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">a and b</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">a and not b</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">not a</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Also might be useful when we want to do some computations right in the templates.</p><div class="jsx-2798449809 code-block"><pre class="refractor language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> foo <span class="token operator">+</span> bar<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>res<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></code></pre></div><h3>Module pattern</h3><p>Module pattern was once popular before the module system was introduced into the language.</p><p>This pattern provides:</p><ul><li>Encapsulation.</li><li>Private variables/functions/methods.</li></ul><div class="jsx-2798449809 code-block"><pre class="refractor language-js"><code class="language-js"><span class="token keyword">const</span> Counter <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// private variables/functions</span>
  <span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">privateMethod</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// exported public functions</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">initialState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      state <span class="token operator">=</span> initialState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">increment</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">privateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      state <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Counter<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Counter<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Counter<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span></code></pre></div><p>Class like interface can also be done with the module pattern. It is not recommended for objects that are created often because new functions are created for each instance, instead of having one method on the prototype chain that is reused by each instance, this will also lead to bigger memory requirements compared to classes.</p><div class="jsx-2798449809 code-block"><pre class="refractor language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token parameter">initialState</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// private variables/functions</span>
  <span class="token keyword">let</span> state <span class="token operator">=</span> initialState<span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">privateMethod</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// exported public functions</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">increment</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">privateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      state <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> counterA <span class="token operator">=</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> counterB <span class="token operator">=</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
counterA<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
counterB<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
counterA<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
counterB<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span></code></pre></div><h2>Downsides</h2><ul><li>They are not commonly used pattern, so they might be confusing.</li><li>They might not promote best practices, for example they might lead you to write more inlined code, while refactoring into some nice testable function might be better option.</li><li>They are not best from performance point of view, you are creating function that is technically not needed most of the time, and then you are executing it immediately.</li></ul></div></article><p class="jsx-3660295720 links"><a class="link" rel="noopener noreferrer" target="_blank" href="https://github.com/hurtak/petrhurtak.com/tree/main/articles/2017-07-20--iife/index.tsx">Edit on GitHub</a> <!-- -->·<!-- --> <a class="link" rel="noopener noreferrer" target="_blank" href="https://x.com/search?q=https%3A%2F%2Fpetrhurtak.com%2Farticles%2Fiife">Discuss on X</a> </p></main><footer class="jsx-835579187">2015<!-- -->–<!-- -->2026<br class="jsx-835579187"/>Written by <!-- -->Petr Hurtak</footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"articleBlog":{"id":"iife","type":"ARTICLE_BLOG_VISIBLE","title":"IIFE","description":"What is immediately-invoked function expression and where they might be useful.","datePublication":1500508800000,"dateLastUpdate":1666483200000,"articlePath":"/home/runner/work/petrhurtak.com/petrhurtak.com/articles/2017-07-20--iife/metadata.json","articleDirectory":"2017-07-20--iife","slug":"iife"}},"__N_SSG":true},"page":"/articles/iife","query":{},"buildId":"OV2WtO7UMex4fkF0pVbp5","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>